<!--
/* inline-docs:ignore */
--><!DOCTYPE html>
<html>
  <!--
  /*

  Html template

  This template is used when rendering docs to html, to wrap the markdown inside an html document.

  */
  -->
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
    <title>SymphonyCMS</title>
    <link rel="stylesheet" href="./template/default.css">
  </head>
  <body>
    <div>
      <section data-filename="/README.md">
<article data-line="0">
<h1 id="php-content-management-system">PHP Content Management System</h1><p>In this tutorial you&#39;ll learn how to install and build a administrable site from scratch. This tool provides an extensible way to improve itself and deliver the data to a template layer. The template layer is the frontend of your project, and there is all code!</p>
<p>Discuss: http://www.getsymphony.com/discuss/thread/109020/</p>
<p>Good reading!</p>

<div class="source-ref">Source: <a href="./README.md#L0">/README.md, line 0</a></div></article>
</section>
<section data-filename="/01-setup-enviroment.md">
<article data-line="0">
<h1 id="01-setup-environment">01. Setup environment</h1><p>To build with Symphony you&#39;ll need to make sure your server meets the following requirements:</p>
<ul>
<li>PHP 5.3 or above</li>
<li>PHP&#39;s LibXML module, with the XSLT extension enabled (--with-xsl)</li>
<li>MySQL 5.0 or above</li>
<li>An Apache webserver (can be used with others, but we&#39;ll focus on Apache server in this tutorial)</li>
<li>Apache&#39;s mod_rewrite module</li>
</ul>
<blockquote>
<p>For Windows, try <a href="https://www.apachefriends.org/index.html">XAMPP</a>, will have all you need in the default install.</p>
</blockquote>

<div class="source-ref">Source: <a href="./01-setup-enviroment.md#L0">/01-setup-enviroment.md, line 0</a></div></article>
</section>
<section data-filename="/02-symphony-cms-install.md">
<article data-line="0">
<h1 id="02-symphony-cms-install">02. Symphony CMS install</h1><p><em>Before we start, make sure you understand that <strong>Symphony CMS</strong> is NOT about <strong>Symfony PHP Framework</strong>. They&#39;re not the same thing. Ready?</em> :)</p>
<p>Installing Symphony is very easy. In this tutorial we&#39;ll use <code>git</code> to handle all dependencies, but this task also works with <code>.zip</code> files (check out here http://www.getsymphony.com/download/, for a blank install remove the <code>/workspace</code> folder before the installation).</p>
<h2 id="02-symphony-cms-install:i-git-clone">I. Git clone</h2><p>First step, go to <a href="http://github.com/symphonycms/symphony-2">github.com/symphonycms/symphony-2</a> and clone the project in your server.</p>
<p><img src="screenshots/02-github.symphony.png" alt="github.com/symphonycms/symphony-2"></p>
<p><code>git clone https://github.com/symphonycms/symphony-2.git mywebsite</code></p>
<p>With the system files cloned, now open the project in your browser <a href="http://localhost/mywebsite/">http://localhost/mywebsite/</a>.</p>
<p><em>We&#39;ll not use virtual hosts on this tutorial to keep it simple, so with <code>http://localhost</code> as your Apache server root of public files, <code>/mywebsite</code> will be located there.</em></p>
<h2 id="02-symphony-cms-install:ii-install-wizard">II. Install wizard</h2><p>In the <strong>mywebsite</strong> URL you&#39;ll see the install wizard. This page is pretty informative, so go on and fill out the fields. Finally click <code>Install Symphony</code>. You&#39;ll need a DB for this project, so make sure you have created one with the MySQL tool of your choice.</p>
<p><img src="screenshots/03-install.png" alt="localhost/mywebsite/install"></p>
<h2 id="02-symphony-cms-install:iii-done-">III. Done!</h2><p>All set up, ready to go!</p>
<p><img src="screenshots/04-installed.png" alt="localhost/mywebsite/install"></p>

<div class="source-ref">Source: <a href="./02-symphony-cms-install.md#L0">/02-symphony-cms-install.md, line 0</a></div></article>
</section>
<section data-filename="/03-symphony-administration.md">
<article data-line="0">
<h1 id="03-symphony-administration">03. Symphony administration</h1><h2 id="03-symphony-administration:i-login">I. Login</h2><p>Now go to your administration page. In this tutorial we&#39;ll use the default <code>/symphony</code> path, but as you saw in the wizard you can choose any different path.</p>
<p><img src="screenshots/05-login.png" alt="localhost/mywebsite/symphony"></p>
<h2 id="03-symphony-administration:ii-administration-page">II. Administration page</h2><p>After login you&#39;ll see a pretty and clear administration page.</p>
<p><img src="screenshots/06-symphony-admin.png" alt="localhost/mywebsite/symphony"></p>
<p>In Symphony we have some very well defined concepts to create the awesomeness. I&#39;ll explain the basics and you can read more in the official Symphony website <a href="http://www.getsymphony.com/learn/concepts/">concepts</a>.</p>
<p>The developer tools are in these two sections on the right side of the main menu: <strong>Blueprints</strong> and <strong>System</strong>. At this moment we really don&#39;t have any kind of content structure or pages. Like a blank piece of paper, we&#39;ll build based only on our project specification. This is one big difference in approach compared to other CMS&#39;s.</p>
<pre><code>- Blueprints
  - Pages
  - Sections
  - Data Sources
  - Events
- System
  - Authors
  - Preferences
  - Extensions
</code></pre><p>From Symphony <a href="http://www.getsymphony.com/learn/">learn</a> page, the following infographic explains a lot of how Symphony works!</p>
<p><img src="screenshots/07-visual-overview.png" alt="visual-overview"></p>
<h2 id="03-symphony-administration:iii-symphony-extensions">III. Symphony Extensions</h2><p>It&#39;s important to understand that Symphony is meant to be simple, and have a powerful core to be extended by the community. For this we have tonnes of extensions to fill any kind of need. The core install has the essentials, but for our tutorial we&#39;ll go further. We&#39;ll install extensions on demand as the tutorial progresses.</p>
<p>The official repository of extensions can be found in the <a href="http://www.getsymphony.com/download/extensions/">extensions</a> section in Symphony website. While the official website is great and full of resources, a few years ago <a href="http://twitter.com/nickdunn">@nickdunn</a> built a better extension repository named <a href="http://symphonyextensions.com/">symphonyextensions.com</a>. We&#39;ll use this one for the tutorial.</p>
<p><img src="screenshots/08-symphonyextensions.png" alt="symphony-extensions"></p>
<h2 id="03-symphony-administration:iv-files-structure">IV. Files Structure</h2><pre><code>mywebsite
├── extensions (all extensions go here)
├── install (installation files, for security reasons you&#39;ll want to drop off this after installation)
├── manifest (stuff, cache, log, temp files and the config.php, this is the kind of folder you include in the .gitignore)
├── symphony (the SymphonyCMS system files)
└── workspace (here is where lives all the frontend fun, your project goes here and here you&#39;ll work mostly of the time)
    ├── data-sources (each data source is a php file from here)
    ├── events (each event is a php file from here)
    ├── pages (each page is a xsl file from here)
    └── utilities (you can use this folder to include all xsl templates useful in your project)
</code></pre>
<div class="source-ref">Source: <a href="./03-symphony-administration.md#L0">/03-symphony-administration.md, line 0</a></div></article>
</section>
<section data-filename="/04-mywebsite-backend.md">
<article data-line="0">
<h1 id="04-mywebsite-backend">04. Mywebsite backend</h1><p>It&#39;s time to have some fun. First of all we need to understand what we are doing. Lets imagine a very simple news website, with a content structure like this:</p>
<pre><code>- News
  - Title (one line text field)
  - Date (datetime field)
  - Text (textarea with markdown)
  - Author (author from the admin)
  - Images (gallery of images)
</code></pre><h2 id="04-mywebsite-backend:i-working-with-sections">I. Working with Sections</h2><h3 id="undefined">a) Creating the News Section</h3><p>Go to <code>Blueprints &gt; Sections &gt; Create new</code> and create the <strong>News</strong> section as the following:</p>
<p><img src="screenshots/09-create-news-section.png" alt="news-section"></p>
<p>At this moment we are not using any extensions so we just created the basic fields for the <strong>News section</strong>.</p>
<p>Now we need the Markdown formatter for the <strong>Text field</strong>. In your terminal, navigate to the project root and run:</p>
<p><code>git submodule add https://github.com/symphonycms/markdown.git extensions/markdown --recursive</code></p>
<p><em>(more information about this extension here: <a href="http://symphonyextensions.com/extensions/markdown/">Markdown Text Formatter</a>)</em></p>
<p>Back in the administration go to <code>System &gt; Extensions</code>, select <code>Markdown Text Formatter</code> and in the bottom right selectbox, choose <code>Install</code> then click <code>Apply</code>.</p>
<p><img src="screenshots/10-install-markdown-extension.png" alt="install-markdown-extension"></p>
<p>Go back to <code>Blueprints &gt; Sections</code>, click on <code>News</code> and set the <code>Text Formatter</code> on the <strong>Text field</strong> to <code>Markdown</code> and <code>Save changes</code>.</p>
<p><img src="screenshots/11-apply-markdown.png" alt="apply-markdown"></p>
<h3 id="undefined">b) Filling News section with sample content</h3><p>At this moment you already see the newly created section in the left side on main menu. Next we&#39;ll create some content in that section.</p>
<p>Go to <code>Content &gt; News</code> and you&#39;ll see an empty list of entries. Click on the green button <code>Create New</code>.</p>
<p><img src="screenshots/12-creating-content.png" alt="creating-content"></p>
<p>By now you&#39;ll be starting to understand why I love the Symphony administration interface: it&#39;s really simple!</p>
<p><img src="screenshots/13-content-created.png" alt="content-created"></p>
<p>After creating a few entries with sample content you&#39;ll be able to see the entries list and sort entries as you want. This doesn&#39;t affect anything on the frontend, we&#39;ll be getting to that soon.</p>
<p><img src="screenshots/14-news-section.png" alt="news-section"></p>
<h3 id="undefined">c) Creating the Images Section (linked sections)</h3><p>Did you notice that I didn&#39;t include any image field in the <strong>News section</strong>. You did? Cool, you are paying attention :)</p>
<p>So lets create a new section called <strong>Images</strong> with some meta information like <strong>caption</strong> and <strong>credits</strong>. But first we need to create a new folder to upload all image files of this section. On your terminal run <code>mkdir workspace/uploads &amp;&amp; mkdir workspace/uploads/images</code>.</p>
<p>For this section we&#39;ll need 2 more extensions. To install, run:</p>
<p><code>git submodule add https://github.com/symphonycms/selectbox_link_field.git extensions/selectbox_link_field --recursive</code></p>
<p><em>(more information at <a href="http://symphonyextensions.com/extensions/selectbox_link_field/">Selectbox Link Field</a>)</em></p>
<p><code>git submodule add https://github.com/symphonists/order_entries.git extensions/order_entries --recursive</code></p>
<p><em>(more information at <a href="http://symphonyextensions.com/extensions/order_entries/">Order Entries</a>)</em></p>
<p>Now go to <code>System &gt; Extensions</code> and install both. The <strong>Selectbox Link Field</strong> will provide a new kind of field that is used to link one section to another. The <strong>Order Entries</strong> is also a new field type to allow sorting of entries by dragging the lines in the entries list.</p>
<p><img src="screenshots/15-install-sbl-and-order-extensions.png" alt="install-sbl-and-order-extensions"></p>
<p>Now go to <code>Blueprints &gt; Sections</code> and <code>Create New</code> section:</p>
<p><img src="screenshots/16-creating-images-section.png" alt="creating-images-section"></p>
<p>After creating the <strong>Images sections</strong>, go to <code>Content &gt; News</code>. See the new column called <code>Images</code> on the right side? Click on the <code>0 →</code> link of any entry to create sample content linked to that entry.</p>
<p><img src="screenshots/17-linked-section.png" alt="linked-section"></p>
<h3 id="undefined">d) Filling Images section with sample content</h3><p>Creating content is really straightforward, as we saw before. No big deal here either.</p>
<p>After creating some sample content, take a look in the <strong>Images</strong> column of the <strong>News Section</strong> entries list. You&#39;ll see something like <code>5 →</code>. Clicking this link takes you to the <strong>Image Section</strong> entries list, filtered to display only related entries.</p>
<p><img src="screenshots/18-images-section.png" alt="images-section"></p>
<h2 id="04-mywebsite-backend:ii-working-with-data-sources">II. Working with Data Sources</h2><p>So far so good! At this point we already have a complete administration interface for CRUD/BREAD stuff. Now we&#39;ll jump into Data Sources!</p>
<p>Data Sources are filters to fetch entries from sections on demand. To create a new Data Source go to <code>Blueprints &gt; Data Sources &gt; Create New</code>.</p>
<p>Before going further here we first need an idea of we want in the frontend. So lets imagine the following specs: In the homepage of <strong>mywebsite</strong> I want to see a list of all news with links for the news page. In the list, news should be sorted by date (newest first) with date and title. In the news page I want to see all data of that news.</p>
<p>To accomplish this we&#39;ll need a few Data Sources. Go to <code>Blueprints &gt; Data Sources &gt; Create New</code> and create the following:</p>
<ul>
<li>List News (fetch all News, sorted by date desc)</li>
<li>Current News (fetch only the current news)</li>
<li>News Images (fetch all images of the current news, sorted by sort order field desc)</li>
</ul>
<h3 id="undefined">a) List News</h3><ul>
<li>Select source <strong>News</strong> and sort by date desc.</li>
<li>Disable pagination to fetch all entries.</li>
<li>Select only title and date fields to output.</li>
</ul>
<p><img src="screenshots/19-list-news-datasource.png" alt="list-news-datasource"></p>
<h3 id="undefined">b) Current News</h3><ul>
<li>Select source <strong>News</strong> and set condition with required param <code>$title</code>.</li>
<li>If this condition return false redirect to a 404 page.</li>
<li>Filter by the <strong>Title field</strong> with <code>$title</code> param.</li>
<li>Disable pagination to fetch all entries.</li>
<li>Select only title, date, author and text (formatted) to output.</li>
<li>Also output <code>$ds-current-news.system-id</code> param with the results.</li>
</ul>
<p><em>Not sure where the <code>$title</code> param comes from? Hang in there, we&#39;ll see in the next section!</em></p>
<p><img src="screenshots/20-current-news-datasource.png" alt="current-news-datasource"></p>
<h3 id="undefined">c) News Images</h3><ul>
<li>Select source <strong>Images</strong>.</li>
<li>Filter by the <strong>News field</strong> (the Selectbox link field) with the <code>$ds-current-news.system-id</code> param from the <strong>Current News</strong> Data Source. This is called chaining datasources.</li>
<li>Sort by <strong>Sort order field</strong> desc.</li>
<li>Disable pagination to fetch all entries.</li>
<li>Select only caption, credits and image fields to output.</li>
</ul>
<p><img src="screenshots/21-news-images-datasource.png" alt="news-images-datasource"></p>
<h3 id="undefined">d) List of Data Sources</h3><p>This is how <code>Blueprints &gt; Data Sources</code> looks now:</p>
<p><img src="screenshots/22-datasources.png" alt="list-of-datasources"></p>
<h2 id="04-mywebsite-backend:iii-working-with-pages">III. Working with Pages</h2><p>Now it&#39;s time to create the routes and attach data sources. Following the specs we&#39;ll have two pages: <strong>Homepage</strong> and <strong>News</strong>.</p>
<h3 id="undefined">a) Homepage</h3><p>Lets create the <strong>Homepage</strong> first. This page is the only one with <strong>Type</strong> <code>index</code>. To do this, go to <code>Blueprints &gt; Pages</code>. While creating we&#39;ll also attach <strong>List News</strong> Data Source on this page.</p>
<p><img src="screenshots/23-creating-homepage.png" alt="creating-homepage"></p>
<h3 id="undefined">b) News</h3><p>When creating the <strong>News page</strong> we&#39;ll define the <strong>Parameters</strong> with <code>title</code> value. This param is the <code>$title</code> used in the <strong>Current News</strong> Data Source. We&#39;ll also attach <strong>Current News</strong> and <strong>News Images</strong> Data Sources in this page.</p>
<p><img src="screenshots/24-creating-news.png" alt="creating-news"></p>
<h3 id="undefined">c) List of Pages</h3><p>Now we have <code>Blueprints &gt; Pages</code> looking like this:</p>
<p><img src="screenshots/25-pages.png" alt="list-of-pages"></p>

<div class="source-ref">Source: <a href="./04-mywebsite-backend.md#L0">/04-mywebsite-backend.md, line 0</a></div></article>
</section>
<section data-filename="/05-mywebsite-frontend.md">
<article data-line="0">
<h1 id="05-mywebsite-frontend">05. Mywebsite frontend</h1><p>Now lets start our frontend!</p>
<p>Symphony retrieves data from the Data Sources as XML and transforms it to HTML using XSLT. XSLT is a template engine language that is very easy to learn once you get the basics. I&#39;ll show you how to get started.</p>
<p>First thing we need now is to install the <a href="http://symphonyextensions.com/extensions/debugdevkit/">Debug Devkit</a> extensions to see what&#39;s under the hood of these pages.</p>
<p><code>git submodule add https://github.com/symphonycms/debugdevkit.git extensions/debugdevkit --recursive</code></p>
<h2 id="05-mywebsite-frontend:i-homepage">I. Homepage</h2><p>Now open your homepage <a href="http://localhost/mywebsite"><code>http://localhost/mywebsite</code></a>!</p>
<p>You&#39;ll see a blank page with just an <code>&lt;h1&gt;</code> for the page title. Perfect. Open the <code>/workspace/pages/homepage.xsl</code> and you&#39;ll see the following:</p>
<h3 id="undefined">a) Default homepage.xsl</h3><pre><code class="undefinedxml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;xsl:stylesheet version=&quot;1.0&quot;
  xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;

&lt;xsl:output method=&quot;xml&quot;
  doctype-public=&quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot;
  doctype-system=&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;
  omit-xml-declaration=&quot;yes&quot;
  encoding=&quot;UTF-8&quot;
  indent=&quot;yes&quot; /&gt;

&lt;xsl:template match=&quot;/&quot;&gt;
  &lt;h1&gt;&lt;xsl:value-of select=&quot;/data/params/page-title&quot;/&gt;&lt;/h1&gt;
&lt;/xsl:template&gt;

&lt;/xsl:stylesheet&gt;
</code></pre>
<h3 id="undefined">b) Homepage <code>?debug</code></h3><p>Now open the debug devkit adding <code>?debug</code> in the URL <a href="http://localhost/mywebsite/?debug"><code>http://localhost/mywebsite/?debug</code></a>, and in the XML tab you&#39;ll see the following:</p>
<pre><code class="undefinedxml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;
&lt;data&gt;
    &lt;params&gt;
        &lt;today&gt;2014-11-05&lt;/today&gt;
        &lt;current-time&gt;22:47&lt;/current-time&gt;
        &lt;this-year&gt;2014&lt;/this-year&gt;
        &lt;this-month&gt;11&lt;/this-month&gt;
        &lt;this-day&gt;05&lt;/this-day&gt;
        &lt;timezone&gt;-02:00&lt;/timezone&gt;
        &lt;website-name&gt;Mywebsite&lt;/website-name&gt;
        &lt;page-title&gt;Homepage&lt;/page-title&gt;
        &lt;root&gt;http://localhost/mywebsite&lt;/root&gt;
        &lt;workspace&gt;http://localhost/mywebsite/workspace&lt;/workspace&gt;
        &lt;http-host&gt;localhost&lt;/http-host&gt;
        &lt;root-page&gt;homepage&lt;/root-page&gt;
        &lt;current-page&gt;homepage&lt;/current-page&gt;
        &lt;current-page-id&gt;1&lt;/current-page-id&gt;
        &lt;current-path&gt;/&lt;/current-path&gt;
        &lt;parent-path&gt;/&lt;/parent-path&gt;
        &lt;current-query-string&gt;&lt;![CDATA[debug]]&gt;&lt;/current-query-string&gt;
        &lt;current-url&gt;http://localhost/mywebsite&lt;/current-url&gt;
        &lt;upload-limit&gt;5242880&lt;/upload-limit&gt;
        &lt;symphony-version&gt;2.5.1&lt;/symphony-version&gt;
        &lt;cookie-xsrf-token&gt;5N/oAkCRtT8xqfarmBUlR2l/5Sg&lt;/cookie-xsrf-token&gt;
        &lt;cookie-username&gt;bernardo&lt;/cookie-username&gt;
        &lt;cookie-pass&gt;PBKDF2v1|10000|d9b1ac45e1f9ab5ad3ee|9YBlZEEMSI0/95e7PIDmJFPXtfxh5k/600rk5ppPdxMO9HHRNUy0Ag==&lt;/cookie-pass&gt;
        &lt;page-types&gt;
            &lt;item handle=&quot;index&quot;&gt;index&lt;/item&gt;
        &lt;/page-types&gt;
        &lt;page-events&gt;&lt;/page-events&gt;
    &lt;/params&gt;
    &lt;events /&gt;
    &lt;list-news&gt;
        &lt;section id=&quot;1&quot; handle=&quot;news&quot;&gt;News&lt;/section&gt;
        &lt;entry id=&quot;4&quot;&gt;
            &lt;title handle=&quot;vestibulum-nec-facilisis-augue&quot;&gt;Vestibulum nec facilisis augue&lt;/title&gt;
            &lt;date iso=&quot;2014-11-02T14:18:00-02:00&quot; timestamp=&quot;1414945080&quot; time=&quot;14:18&quot; weekday=&quot;7&quot; offset=&quot;-0200&quot;&gt;2014-11-02&lt;/date&gt;
        &lt;/entry&gt;
        &lt;entry id=&quot;5&quot;&gt;
            &lt;title handle=&quot;praesent-dui-lorem&quot;&gt;Praesent dui lorem&lt;/title&gt;
            &lt;date iso=&quot;2014-11-02T14:18:00-02:00&quot; timestamp=&quot;1414945080&quot; time=&quot;14:18&quot; weekday=&quot;7&quot; offset=&quot;-0200&quot;&gt;2014-11-02&lt;/date&gt;
        &lt;/entry&gt;
        &lt;entry id=&quot;2&quot;&gt;
            &lt;title handle=&quot;proin-eu-sagittis-diam&quot;&gt;Proin eu sagittis diam&lt;/title&gt;
            &lt;date iso=&quot;2014-11-02T14:17:00-02:00&quot; timestamp=&quot;1414945020&quot; time=&quot;14:17&quot; weekday=&quot;7&quot; offset=&quot;-0200&quot;&gt;2014-11-02&lt;/date&gt;
        &lt;/entry&gt;
        &lt;entry id=&quot;3&quot;&gt;
            &lt;title handle=&quot;nullam-commodo-metus-a-felis-pharetra-faucibus&quot;&gt;Nullam commodo metus a felis pharetra faucibus&lt;/title&gt;
            &lt;date iso=&quot;2014-11-02T14:17:00-02:00&quot; timestamp=&quot;1414945020&quot; time=&quot;14:17&quot; weekday=&quot;7&quot; offset=&quot;-0200&quot;&gt;2014-11-02&lt;/date&gt;
        &lt;/entry&gt;
        &lt;entry id=&quot;1&quot;&gt;
            &lt;title handle=&quot;lorem-ipsum-dolor-sit-amet&quot;&gt;Lorem ipsum dolor sit amet&lt;/title&gt;
            &lt;date iso=&quot;2014-11-02T14:15:00-02:00&quot; timestamp=&quot;1414944900&quot; time=&quot;14:15&quot; weekday=&quot;7&quot; offset=&quot;-0200&quot;&gt;2014-11-02&lt;/date&gt;
        &lt;/entry&gt;
    &lt;/list-news&gt;
&lt;/data&gt;
</code></pre>
<p><img src="screenshots/26-debugdevkit.png" alt="debug-devkit"></p>
<h3 id="undefined">c) Edited homepage.xsl</h3><p>What matters here is the <code>&lt;list-news&gt;</code> node, which is the result of the <a href="#a-list-news">List News</a> Data Source. Now we&#39;ll make a list with this data using <strong>XPath</strong> in the <code>/workspace/pages/homepage.xsl</code>, and the file will look like this:</p>
<pre><code class="undefinedxml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;xsl:stylesheet version=&quot;1.0&quot;
  xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;

&lt;xsl:output method=&quot;xml&quot;
  doctype-public=&quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot;
  doctype-system=&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;
  omit-xml-declaration=&quot;yes&quot;
  encoding=&quot;UTF-8&quot;
  indent=&quot;yes&quot; /&gt;

&lt;xsl:template match=&quot;/&quot;&gt;
  &lt;ul&gt;
    &lt;xsl:for-each select=&quot;data/list-news/entry&quot;&gt;
      &lt;li&gt;
        &lt;a href=&quot;{/data/params/root}/news/{title/@handle}&quot;&gt;&lt;xsl:value-of select=&quot;title&quot;/&gt;&lt;/a&gt;
      &lt;/li&gt;
    &lt;/xsl:for-each&gt;
  &lt;/ul&gt;
&lt;/xsl:template&gt;

&lt;/xsl:stylesheet&gt;
</code></pre>
<h3 id="undefined">c) Homepage output</h3><p>And the HTML output will be:</p>
<pre><code class="undefinedhtml">&lt;!DOCTYPE ul PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;
&lt;ul&gt;
  &lt;li&gt;
    &lt;a href=&quot;http://localhost/mywebsite/news/vestibulum-nec-facilisis-augue&quot;&gt;Vestibulum nec facilisis augue&lt;/a&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;a href=&quot;http://localhost/mywebsite/news/praesent-dui-lorem&quot;&gt;Praesent dui lorem&lt;/a&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;a href=&quot;http://localhost/mywebsite/news/proin-eu-sagittis-diam&quot;&gt;Proin eu sagittis diam&lt;/a&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;a href=&quot;http://localhost/mywebsite/news/nullam-commodo-metus-a-felis-pharetra-faucibus&quot;&gt;Nullam commodo metus a felis pharetra faucibus&lt;/a&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;a href=&quot;http://localhost/mywebsite/news/lorem-ipsum-dolor-sit-amet&quot;&gt;Lorem ipsum dolor sit amet&lt;/a&gt;
  &lt;/li&gt;
&lt;/ul&gt;
</code></pre>
<p><img src="screenshots/27-homepage-result.png" alt="homepage-result"></p>
<h2 id="05-mywebsite-frontend:ii-news-page">II. News page</h2><p>Clicking on any of these links takes you to the <strong>News</strong> page, which is the file <code>/workspace/pages/news.xsl</code>. First lets see what XML we have attached in this page. Click on any link and add <code>?debug</code> in the URL <a href="http://localhost/mywebsite/news/vestibulum-nec-facilisis-augue/?debug"><code>http://localhost/mywebsite/news/vestibulum-nec-facilisis-augue/?debug</code></a>:</p>
<h3 id="undefined">a) News page ?debug</h3><pre><code class="undefinedxml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;
&lt;data&gt;
    &lt;params&gt;
        &lt;today&gt;2014-11-05&lt;/today&gt;
        &lt;current-time&gt;23:24&lt;/current-time&gt;
        &lt;this-year&gt;2014&lt;/this-year&gt;
        &lt;this-month&gt;11&lt;/this-month&gt;
        &lt;this-day&gt;05&lt;/this-day&gt;
        &lt;timezone&gt;-02:00&lt;/timezone&gt;
        &lt;website-name&gt;Mywebsite&lt;/website-name&gt;
        &lt;page-title&gt;News&lt;/page-title&gt;
        &lt;root&gt;http://localhost/mywebsite&lt;/root&gt;
        &lt;workspace&gt;http://localhost/mywebsite/workspace&lt;/workspace&gt;
        &lt;http-host&gt;localhost&lt;/http-host&gt;
        &lt;root-page&gt;news&lt;/root-page&gt;
        &lt;current-page&gt;news&lt;/current-page&gt;
        &lt;current-page-id&gt;2&lt;/current-page-id&gt;
        &lt;current-path&gt;/news/praesent-dui-lorem&lt;/current-path&gt;
        &lt;parent-path&gt;/&lt;/parent-path&gt;
        &lt;current-query-string&gt;&lt;![CDATA[debug]]&gt;&lt;/current-query-string&gt;
        &lt;current-url&gt;http://localhost/mywebsite/news/praesent-dui-lorem&lt;/current-url&gt;
        &lt;upload-limit&gt;5242880&lt;/upload-limit&gt;
        &lt;symphony-version&gt;2.5.1&lt;/symphony-version&gt;
        &lt;title&gt;praesent-dui-lorem&lt;/title&gt;
        &lt;cookie-xsrf-token&gt;5N/oAkCRtT8xqfarmBUlR2l/5Sg&lt;/cookie-xsrf-token&gt;
        &lt;cookie-username&gt;bernardo&lt;/cookie-username&gt;
        &lt;cookie-pass&gt;PBKDF2v1|10000|d9b1ac45e1f9ab5ad3ee|9YBlZEEMSI0/95e7PIDmJFPXtfxh5k/600rk5ppPdxMO9HHRNUy0Ag==&lt;/cookie-pass&gt;
        &lt;page-types /&gt;
        &lt;page-events&gt;&lt;/page-events&gt;
        &lt;ds-current-news.system-id&gt;
            &lt;item handle=&quot;5&quot;&gt;5&lt;/item&gt;
        &lt;/ds-current-news.system-id&gt;
        &lt;ds-current-news&gt;
            &lt;item handle=&quot;5&quot;&gt;5&lt;/item&gt;
        &lt;/ds-current-news&gt;
    &lt;/params&gt;
    &lt;events /&gt;
    &lt;current-news&gt;
        &lt;section id=&quot;1&quot; handle=&quot;news&quot;&gt;News&lt;/section&gt;
        &lt;entry id=&quot;5&quot;&gt;
            &lt;title handle=&quot;praesent-dui-lorem&quot;&gt;Praesent dui lorem&lt;/title&gt;
            &lt;date iso=&quot;2014-11-02T14:18:00-02:00&quot; timestamp=&quot;1414945080&quot; time=&quot;14:18&quot; weekday=&quot;7&quot; offset=&quot;-0200&quot;&gt;2014-11-02&lt;/date&gt;
            &lt;author&gt;
                &lt;item id=&quot;1&quot; handle=&quot;bernardo-dias-da-cruz&quot; username=&quot;bernardo&quot;&gt;Bernardo Dias da Cruz&lt;/item&gt;
            &lt;/author&gt;
            &lt;text mode=&quot;formatted&quot;&gt;
                &lt;h1&gt;Yey!&lt;/h1&gt;
                &lt;p&gt;&lt;strong&gt;Praesent dui lorem&lt;/strong&gt;, efficitur in facilisis efficitur, congue vitae nulla. Morbi felis tellus, feugiat eget vulputate eu, sollicitudin in augue. Pellentesque quis magna at tellus dictum convallis eu in velit. Donec lorem ex, placerat id metus ut, placerat convallis ex. Aliquam vel massa erat. Suspendisse condimentum, dolor sit amet pharetra semper, ligula leo porttitor elit, a rhoncus lacus nibh vel tellus. Donec eget purus sagittis, volutpat sem in, finibus sem. Morbi est orci, congue in libero dapibus, lobortis tincidunt libero.&lt;/p&gt;
                &lt;p&gt;Vestibulum nec facilisis augue. Morbi leo ipsum, gravida vitae dapibus nec, suscipit ac justo. Vestibulum tincidunt libero ac orci facilisis, vitae venenatis velit fringilla. Aenean quis ornare sapien. Sed eget condimentum nibh. Nulla ultricies turpis nisi, ut bibendum dui faucibus et. Aliquam mauris dui, placerat vitae turpis nec, laoreet viverra sapien. Integer sit amet semper tortor. Phasellus sollicitudin turpis eget felis mollis, a tincidunt dui vestibulum. Vestibulum lobortis risus ac nisi facilisis viverra.&lt;/p&gt;
                &lt;p&gt;Proin eu sagittis diam. In feugiat egestas enim ac bibendum. Curabitur ullamcorper metus nec tellus aliquam, vel laoreet augue cursus. Suspendisse potenti. Praesent nunc nisi, hendrerit et condimentum quis, aliquam eu enim.&lt;/p&gt;
                &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam commodo metus a felis pharetra faucibus. Ut vel enim vitae arcu interdum elementum a a diam. Suspendisse potenti. Sed ac turpis a mi pulvinar consectetur eget sed elit.&lt;/p&gt;
            &lt;/text&gt;
        &lt;/entry&gt;
    &lt;/current-news&gt;
    &lt;news-images&gt;
        &lt;section id=&quot;2&quot; handle=&quot;images&quot;&gt;Images&lt;/section&gt;
        &lt;entry id=&quot;12&quot;&gt;
            &lt;caption handle=&quot;ubatuba&quot;&gt;ubatuba&lt;/caption&gt;
            &lt;credits handle=&quot;andre&quot;&gt;andré&lt;/credits&gt;
            &lt;image size=&quot;77 KB&quot; bytes=&quot;79103&quot; path=&quot;/uploads/images&quot; type=&quot;image/jpeg&quot;&gt;
                &lt;filename&gt;10743381_919876464707201_1100897924_n.jpg&lt;/filename&gt;
                &lt;meta creation=&quot;2014-11-02T15:11:24-02:00&quot; width=&quot;960&quot; height=&quot;720&quot; /&gt;
            &lt;/image&gt;
        &lt;/entry&gt;
        &lt;entry id=&quot;13&quot;&gt;
            &lt;caption handle=&quot;ubatuba&quot;&gt;ubatuba&lt;/caption&gt;
            &lt;credits handle=&quot;andre&quot;&gt;andré&lt;/credits&gt;
            &lt;image size=&quot;53 KB&quot; bytes=&quot;54582&quot; path=&quot;/uploads/images&quot; type=&quot;image/jpeg&quot;&gt;
                &lt;filename&gt;10749555_919876354707212_669708385_n.jpg&lt;/filename&gt;
                &lt;meta creation=&quot;2014-11-02T15:11:36-02:00&quot; width=&quot;960&quot; height=&quot;720&quot; /&gt;
            &lt;/image&gt;
        &lt;/entry&gt;
        &lt;entry id=&quot;11&quot;&gt;
            &lt;caption handle=&quot;ubatuba&quot;&gt;ubatuba&lt;/caption&gt;
            &lt;credits handle=&quot;andre&quot;&gt;andré&lt;/credits&gt;
            &lt;image size=&quot;75 KB&quot; bytes=&quot;77705&quot; path=&quot;/uploads/images&quot; type=&quot;image/jpeg&quot;&gt;
                &lt;filename&gt;10643250_919876458040535_2051957555_n.jpg&lt;/filename&gt;
                &lt;meta creation=&quot;2014-11-02T15:11:02-02:00&quot; width=&quot;960&quot; height=&quot;720&quot; /&gt;
            &lt;/image&gt;
        &lt;/entry&gt;
        &lt;entry id=&quot;10&quot;&gt;
            &lt;caption handle=&quot;ubatuba&quot;&gt;ubatuba&lt;/caption&gt;
            &lt;credits handle=&quot;andre&quot;&gt;andré&lt;/credits&gt;
            &lt;image size=&quot;38 KB&quot; bytes=&quot;39575&quot; path=&quot;/uploads/images&quot; type=&quot;image/jpeg&quot;&gt;
                &lt;filename&gt;1063075_919876374707210_1102205846_n.jpg&lt;/filename&gt;
                &lt;meta creation=&quot;2014-11-02T15:10:35-02:00&quot; width=&quot;960&quot; height=&quot;720&quot; /&gt;
            &lt;/image&gt;
        &lt;/entry&gt;
        &lt;entry id=&quot;9&quot;&gt;
            &lt;caption handle=&quot;ubatuba&quot;&gt;ubatuba&lt;/caption&gt;
            &lt;credits handle=&quot;andre&quot;&gt;andré&lt;/credits&gt;
            &lt;image size=&quot;127 KB&quot; bytes=&quot;130549&quot; path=&quot;/uploads/images&quot; type=&quot;image/jpeg&quot;&gt;
                &lt;filename&gt;974711_919876548040526_1619447394_n.jpg&lt;/filename&gt;
                &lt;meta creation=&quot;2014-11-02T15:10:30-02:00&quot; width=&quot;960&quot; height=&quot;720&quot; /&gt;
            &lt;/image&gt;
        &lt;/entry&gt;
    &lt;/news-images&gt;
&lt;/data&gt;
</code></pre>
<p>Spot the <code>&lt;ds-current-news.system-id&gt;</code> inside <code>&lt;params&gt;</code>? That node has a list with all entry IDs from the <strong>Current News</strong> Data Source. This is the param we used to link and filter the <strong>News Images</strong> Data Source. Below in the XML you&#39;ll see <code>&lt;current-news&gt;</code> and <code>&lt;news-images&gt;</code> nodes resulted from Data Sources respectively.</p>
<h3 id="undefined">b) Edited news.xsl</h3><p>After editing our <code>/workspace/pages/news.xsl</code> file it will look like this:</p>
<pre><code class="undefinedxml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;xsl:stylesheet version=&quot;1.0&quot;
  xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;

&lt;xsl:output method=&quot;xml&quot;
  doctype-public=&quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot;
  doctype-system=&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;
  omit-xml-declaration=&quot;yes&quot;
  encoding=&quot;UTF-8&quot;
  indent=&quot;yes&quot; /&gt;

&lt;xsl:template match=&quot;/&quot;&gt;
  &lt;h1&gt;&lt;xsl:value-of select=&quot;data/current-news/entry/title&quot;/&gt;&lt;/h1&gt;
  &lt;p&gt;&lt;xsl:value-of select=&quot;data/current-news/entry/date&quot;/&gt;&lt;/p&gt;
  &lt;p&gt;&lt;xsl:value-of select=&quot;data/current-news/entry/author/item&quot;/&gt;&lt;/p&gt;
  &lt;xsl:value-of select=&quot;data/current-news/entry/text&quot;/&gt;

  &lt;ul&gt;
    &lt;xsl:for-each select=&quot;data/news-images/entry&quot;&gt;
      &lt;li&gt;
        &lt;img src=&quot;{//data/params/workspace}{image/@path}/{image/filename}&quot; width=&quot;500&quot; alt=&quot;&quot;/&gt;
        &lt;br/&gt;
        &lt;xsl:value-of select=&quot;caption&quot;/&gt;
        &lt;br/&gt;
        &lt;xsl:value-of select=&quot;credits&quot;/&gt;
        &lt;hr/&gt;
      &lt;/li&gt;
    &lt;/xsl:for-each&gt;
  &lt;/ul&gt;
&lt;/xsl:template&gt;

&lt;/xsl:stylesheet&gt;
</code></pre>
<h3 id="undefined">b) News page output</h3><p>Yey! We have our news page with all content from the system. The HTML output contains just what you would expect:</p>
<pre><code class="undefinedhtml">&lt;!DOCTYPE h1 PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;
&lt;h1&gt;Praesent dui lorem&lt;/h1&gt;&lt;p&gt;2014-11-02&lt;/p&gt;&lt;p&gt;Bernardo Dias da Cruz&lt;/p&gt;Yey!

Praesent dui lorem, efficitur in facilisis efficitur, congue vitae nulla. Morbi felis tellus, feugiat eget vulputate eu, sollicitudin in augue. Pellentesque quis magna at tellus dictum convallis eu in velit. Donec lorem ex, placerat id metus ut, placerat convallis ex. Aliquam vel massa erat. Suspendisse condimentum, dolor sit amet pharetra semper, ligula leo porttitor elit, a rhoncus lacus nibh vel tellus. Donec eget purus sagittis, volutpat sem in, finibus sem. Morbi est orci, congue in libero dapibus, lobortis tincidunt libero.

Vestibulum nec facilisis augue. Morbi leo ipsum, gravida vitae dapibus nec, suscipit ac justo. Vestibulum tincidunt libero ac orci facilisis, vitae venenatis velit fringilla. Aenean quis ornare sapien. Sed eget condimentum nibh. Nulla ultricies turpis nisi, ut bibendum dui faucibus et. Aliquam mauris dui, placerat vitae turpis nec, laoreet viverra sapien. Integer sit amet semper tortor. Phasellus sollicitudin turpis eget felis mollis, a tincidunt dui vestibulum. Vestibulum lobortis risus ac nisi facilisis viverra.

Proin eu sagittis diam. In feugiat egestas enim ac bibendum. Curabitur ullamcorper metus nec tellus aliquam, vel laoreet augue cursus. Suspendisse potenti. Praesent nunc nisi, hendrerit et condimentum quis, aliquam eu enim.

Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam commodo metus a felis pharetra faucibus. Ut vel enim vitae arcu interdum elementum a a diam. Suspendisse potenti. Sed ac turpis a mi pulvinar consectetur eget sed elit.
&lt;ul&gt;
  &lt;li&gt;&lt;img src=&quot;http://localhost/mywebsite/workspace/uploads/images/10743381_919876464707201_1100897924_n.jpg&quot; width=&quot;500&quot; alt=&quot;&quot; /&gt;&lt;br /&gt;ubatuba&lt;br /&gt;andré&lt;hr /&gt;&lt;/li&gt;
  &lt;li&gt;&lt;img src=&quot;http://localhost/mywebsite/workspace/uploads/images/10749555_919876354707212_669708385_n.jpg&quot; width=&quot;500&quot; alt=&quot;&quot; /&gt;&lt;br /&gt;ubatuba&lt;br /&gt;andré&lt;hr /&gt;&lt;/li&gt;
  &lt;li&gt;&lt;img src=&quot;http://localhost/mywebsite/workspace/uploads/images/10643250_919876458040535_2051957555_n.jpg&quot; width=&quot;500&quot; alt=&quot;&quot; /&gt;&lt;br /&gt;ubatuba&lt;br /&gt;andré&lt;hr /&gt;&lt;/li&gt;
  &lt;li&gt;&lt;img src=&quot;http://localhost/mywebsite/workspace/uploads/images/1063075_919876374707210_1102205846_n.jpg&quot; width=&quot;500&quot; alt=&quot;&quot; /&gt;&lt;br /&gt;ubatuba&lt;br /&gt;andré&lt;hr /&gt;&lt;/li&gt;
  &lt;li&gt;&lt;img src=&quot;http://localhost/mywebsite/workspace/uploads/images/974711_919876548040526_1619447394_n.jpg&quot; width=&quot;500&quot; alt=&quot;&quot; /&gt;&lt;br /&gt;ubatuba&lt;br /&gt;andré&lt;hr /&gt;&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
<p><img src="screenshots/28-news-simple-result.png" alt="news-simple-result"></p>
<h2 id="05-mywebsite-frontend:iii-improving-news-page-output">III. Improving News page output</h2><p>But wait... Despite being unstyled (this is not a CSS tutorial, so we&#39;ll skip that part for now), the content format is wrong!!! Well, kinda wrong, we need to go deeper into the XSLT to see how we can make it better.</p>
<p>Let&#39;s grab some XSLT templates from SymphonyCMS website <a href="http://www.getsymphony.com/download/xslt-utilities/">Utilities</a> section. We need to:</p>
<ul>
<li>Fix the date format,</li>
<li>Fix the text output (we should see HTML instead of raw Markdown),</li>
<li>Remove the inline width from images and resize it on the server side.</li>
</ul>
<p>Let&#39;s handle those things one by one now:</p>
<h3 id="undefined">a) Fix the date format</h3><p>For the date we want to use something like <code>2nd November, 2014</code> instead <code>2014-11-02</code>. To accomplish this we&#39;ll need a date format template that can be found in the official website. In the <strong>XSLT Utilities</strong> section look for <a href="http://www.getsymphony.com/download/xslt-utilities/view/20744/">Format Date/Time Advanced</a>.</p>
<p>Copy the raw code in <code>/workspace/utilities/format-date.xsl</code> and include this file in the <code>/workspace/pages/news.xsl</code>, to do this add <code>&lt;xsl:import href=&quot;../utilities/format-date.xsl&quot;/&gt;</code> before <code>&lt;xsl:output ... /&gt;</code> and in place of:</p>
<pre><code class="undefinedxml">&lt;p&gt;&lt;xsl:value-of select=&quot;data/current-news/entry/date&quot;/&gt;&lt;/p&gt;
</code></pre>
<p>include the <code>format-date</code> template like the following:</p>
<pre><code class="undefinedxml">&lt;p&gt;
  &lt;xsl:call-template name=&quot;format-date&quot;&gt;
    &lt;xsl:with-param name=&quot;date&quot; select=&quot;data/current-news/entry/date&quot;/&gt;
    &lt;xsl:with-param name=&quot;format&quot; select=&quot;&#39;%d;%ds; %m+;, %y+;&#39;&quot;/&gt;
  &lt;/xsl:call-template&gt;
&lt;/p&gt;
</code></pre>
<p>(more instructions on how to use the template can be read in the utility file).</p>
<h3 id="undefined">b) Fix the text output (convert Markdown to HTML)</h3><p>HTML manipulation is something really nice to do with XSL, because HTML is XML compatible. To accomplish this Allen Chang wrote a good technique, which is explained better in the <a href="http://www.getsymphony.com/learn/articles/view/html-ninja-technique/">HTML Ninja Technique</a> article.</p>
<p>We&#39;ll do the same as we did with the <strong>Format Date</strong> utility: create a utility file with <a href="http://www.getsymphony.com/download/xslt-utilities/view/20035/">HTML Manipulation</a> and import into the page file.</p>
<p>To use this template just change <code>&lt;xsl:value-of select=&quot;data/current-news/entry/text&quot;/&gt;</code> to <code>&lt;xsl:apply-templates select=&quot;data/current-news/entry/text/*&quot; mode=&quot;html&quot;/&gt;</code>.</p>
<p>In mywebsite we are already using the tag <code>h1</code> and in the sample above we also have a <code>h1</code> in the Markdown text. The &quot;Ninja technique&quot; is a powerful way to manipulate all HTML content from XML. In the ninja template utility include the following template:</p>
<pre><code class="undefinedxml">&lt;xsl:template match=&quot;h1 | h2 | h3 | h4&quot; mode=&quot;html&quot; priority=&quot;1&quot;&gt;
  &lt;xsl:param name=&quot;level&quot; select=&quot;1&quot; /&gt;

  &lt;xsl:element name=&quot;h{substring-after(name(), &#39;h&#39;) + $level}&quot;&gt;
    &lt;xsl:apply-templates select=&quot;* | @* | text()&quot; mode=&quot;html&quot; /&gt;
  &lt;/xsl:element&gt;
&lt;/xsl:template&gt;
</code></pre>
<p>and all headers will be changed 1 level down.</p>
<h3 id="undefined">c) Remove the inline width from images and resize it on the server side.</h3><p>This is a very nice feature to have in a CMS, and Symphony provides an extension that resize images and stores the result in cache, serving the resized image to the frontend. The extension is called <a href="http://symphonyextensions.com/extensions/jit_image_manipulation/">JIT Image Manipulation</a>. You can read more about it at <a href="http://www.getsymphony.com/learn/concepts/view/jit-image-manipulation/">JIT Image Manipulation Concepts</a>.</p>
<p>To install run <code>git submodule add https://github.com/symphonycms/jit_image_manipulation.git extensions/jit_image_manipulation --recursive</code> and install in the extension page in the administration.</p>
<p>In the news file change the line:</p>
<p><code>&lt;img src=&quot;{//data/params/workspace}{image/@path}/{image/filename}&quot; width=&quot;500&quot; alt=&quot;&quot;/&gt;</code></p>
<p>to:</p>
<p><code>&lt;img src=&quot;{//data/params/root}/image/1/500/0{image/@path}/{image/filename}&quot; alt=&quot;&quot;/&gt;</code></p>
<hr>
<p>The <code>/workspace/pages/news.xsl</code> file will look like this now:</p>
<pre><code class="undefinedxml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;xsl:stylesheet version=&quot;1.0&quot;
  xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;

&lt;xsl:import href=&quot;../utilities/format-date.xsl&quot;/&gt;
&lt;xsl:import href=&quot;../utilities/ninja.xsl&quot;/&gt;

&lt;xsl:output method=&quot;xml&quot;
  doctype-public=&quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot;
  doctype-system=&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;
  omit-xml-declaration=&quot;yes&quot;
  encoding=&quot;UTF-8&quot;
  indent=&quot;yes&quot; /&gt;

&lt;xsl:template match=&quot;/&quot;&gt;
  &lt;h1&gt;&lt;xsl:value-of select=&quot;data/current-news/entry/title&quot;/&gt;&lt;/h1&gt;
  &lt;p&gt;
    &lt;xsl:call-template name=&quot;format-date&quot;&gt;
      &lt;xsl:with-param name=&quot;date&quot; select=&quot;data/current-news/entry/date&quot;/&gt;
      &lt;xsl:with-param name=&quot;format&quot; select=&quot;&#39;%d;%ds; %m+;, %y+;&#39;&quot;/&gt;
    &lt;/xsl:call-template&gt;
  &lt;/p&gt;
  &lt;p&gt;&lt;xsl:value-of select=&quot;data/current-news/entry/author/item&quot;/&gt;&lt;/p&gt;

  &lt;xsl:apply-templates select=&quot;data/current-news/entry/text/*&quot; mode=&quot;html&quot;/&gt;

  &lt;ul&gt;
    &lt;xsl:for-each select=&quot;data/news-images/entry&quot;&gt;
      &lt;li&gt;
        &lt;img src=&quot;{//data/params/root}/image/1/500/0{image/@path}/{image/filename}&quot; alt=&quot;&quot;/&gt;
        &lt;br/&gt;
        &lt;xsl:value-of select=&quot;caption&quot;/&gt;
        &lt;br/&gt;
        &lt;xsl:value-of select=&quot;credits&quot;/&gt;
        &lt;hr/&gt;
      &lt;/li&gt;
    &lt;/xsl:for-each&gt;
  &lt;/ul&gt;
&lt;/xsl:template&gt;

&lt;/xsl:stylesheet&gt;
</code></pre>
<h3 id="undefined">The improved result:</h3><p><img src="screenshots/29-news-improved-result.png" alt="news-improved-result"></p>

<div class="source-ref">Source: <a href="./05-mywebsite-frontend.md#L0">/05-mywebsite-frontend.md, line 0</a></div></article>
</section>
<section data-filename="/06-mywebsite-ensemble.md">
<article data-line="0">
<h1 id="06-mywebsite-ensemble">06. Mywebsite ensemble</h1><p>The last extension we&#39;ll install in this tutorial is the <a href="http://symphonyextensions.com/extensions/export_ensemble/">Export Ensemble</a>, this is extension creates an installable version of your Symphony website.</p>
<p>I&#39;ve installed this extension and exported the installation files for the <strong>Mywebsite</strong> project. Check it here <a href="https://github.com/x-team/symphony-tutorial/tree/gh-pages/mywebsite">https://github.com/x-team/symphony-tutorial/tree/gh-pages/mywebsite</a>.</p>
<p>To install just put the files in your apache server public folder and open the URL in the browser, then you&#39;ll see the install wizard. After this is pretty much a well-known path from this tutorial.</p>
<p>Hope you have enjoyed.</p>
<p>Cheers.</p>

<div class="source-ref">Source: <a href="./06-mywebsite-ensemble.md#L0">/06-mywebsite-ensemble.md, line 0</a></div></article>
</section>
<section data-filename="/07-your-turn.md">
<article data-line="0">
<h1 id="07-your-turn-">07. Your turn!</h1><p>In this tutorial you&#39;ve learnd to setup the most basic site, now grab the <strong>mywebsite</strong> ensemble on this tutorial and build something upon it.</p>
<p>You are welcome to make a fork and open a PR to include your own ideas :)</p>

<div class="source-ref">Source: <a href="./07-your-turn.md#L0">/07-your-turn.md, line 0</a></div></article>
</section>
<section data-filename="/08-about-symphony-cms.md">
<article data-line="0">
<h1 id="about-symphony-cms">About Symphony CMS</h1><p><strong><a href="http://www.getsymphony.com/">getsymphony.com</a></strong></p>
<blockquote>
<p>Symphony&#39;s features strike a perfect balance: the power to do everything you need, the intelligence to do only what you need.</p>
</blockquote>
<p><img src="screenshots/01-getsymphony.com.png" alt="getsymphony.com"></p>
<p>Created by Allen Chang and Alistair Kearney for over a decade, Symphony is an Open Source XSLT-based CMS built in PHP and MySQL. A CMS that provides you a full control of the project frontend.</p>

<div class="source-ref">Source: <a href="./08-about-symphony-cms.md#L0">/08-about-symphony-cms.md, line 0</a></div></article>
</section>

    </div>

    <script type="text/javascript" src="./template/default.js"></script>
  </body>
</html>
